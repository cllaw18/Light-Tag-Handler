function remove_lth_tag(e){var t=e.id;var n=e.id.match(/\d+$/)[0];var r=e.parentNode.parentNode.parentNode;var i=e.parentNode.parentNode;var s=e.parentNode;var o=r.firstChild;var u=o.value;var a=r.lastChild.lastChild;var f=r.lastChild.lastChild.previousSibling;var l=parseInt(a.innerHTML);var c=parseInt(f.innerHTML);var h="";var p=l-c-1;var d=l-1;var v=c+1;f.innerHTML=v;ulChildren=s.children;e.parentNode.removeChild(e);for(var m=0;m<p;m++){j=p-1;if(m!=j){h+=ulChildren[m].innerHTML+","}if(m==j){h+=ulChildren[m].innerHTML}}o.value=h}var tag_bg_color="#eeeeee";var tag_margin_val="7px 3px 0 3px";var tag_pagging_val="0 5px";var tag_radius_val="5px";var tag_input_handler_bg_color="#ffffff";var tag_input_handler_border="1px solid #ccc";var tag_input_handler_width="100%";var tag_input_handler_margin="5px 2px 0px 2px";var tag_input_handler_padding="2px 5px";var cross_icon=" data:application/octet-stream;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJJJREFUeNpiZACCnp7e+UDKAIgdS0qKPzBAAVBcAEjtB+ILQPFERqjCBKj8BZgGJIUGULkFTEgcBih7P1ChAppCsBxIsSPURGQN99EUgm1kRHMbsgIGdKcxInlGAWoiOlAEKnwAYjAhmbyeATtYD5VnYCTgBBSnMGFRCJJQxOLp/UxogjDPPMASShcYSYlBgAADABQgQdJ6ze4GAAAAAElFTkSuQmCC";jQuery(document).ready(function(){var e='style="float:left; background:'+tag_bg_color+"; margin:"+tag_margin_val+"; padding:"+tag_pagging_val+"; -webkit-border-radius:"+tag_radius_val+"; -moz-border-radius:"+tag_radius_val+"; border-radius:"+tag_radius_val+"; cursor: url("+cross_icon+'), pointer;"';var t='<li class="input"><input type="text" class="lth_input"></li>';var n='<span class="lth_removed">0</span><span class="lth_counter">0</span>';var r='<div class="lth_show"><ul>'+t+"</ul>"+n+"</div>";jQuery(".lth_group").append(r);jQuery(".lth_show *").css({margin:"0",padding:"0",border:"0",display:"inline-block"});jQuery(".lth_show").css({border:tag_input_handler_border,background:tag_input_handler_bg_color,width:tag_input_handler_width});jQuery(".lth_show ul").css({"list-style-type":"none",background:tag_input_handler_bg_color});jQuery(".lth_show ul li.input").css({"float":"left",background:tag_input_handler_bg_color,margin:tag_input_handler_margin,padding:tag_input_handler_padding});jQuery(".lth_show .lth_counter, .lth_show .lth_removed").css({display:"none"});jQuery(".lth_hidden").css({"float":"left",width:"0",height:"0",margin:"0",border:"0"});jQuery(".lth_hidden").each(function(t,n){var r=$(this).html("1").val();if(r!=""){var i="";var s=jQuery(this).html("1").parent().find(".lth_counter");var o=jQuery(this).html("1").parent().find("ul");var u=r.split(",");var a=u.length;for(var f=0;f<a;f++){i+='<li id="lth_'+f+'" class="tag" onclick="remove_lth_tag(this)" '+e+">"+u[f]+"</li>"}o.prepend(i);s.text(a)}});jQuery(".lth_input").on("input propertychange paste",function(){var t=jQuery(this).val().trim();if(t.substr(t.length-1)==","){var n=jQuery(this).parent().parent().parent().parent().find('input[type="text"]').filter(":visible:first");var r=jQuery(this).parent().parent().parent().parent().find("ul");var i=jQuery(this).parent().parent().parent().parent().find(".lth_counter");var s=i.text();var o="";t=t.slice(0,-1).trim();if(t!=""){if(n.val()!=""){o=n.val()+","+t}else{o=n.val()+t}jQuery('<li id="lth_'+s+'" class="tag" onclick="remove_lth_tag(this)" '+e+">"+t+"</li>").insertBefore(jQuery(this).parent());n.val(o);s++;i.text(s)}this.value=""}})})
